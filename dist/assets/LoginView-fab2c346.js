import{d as k,r as u,o as $,c as q,a as C,b as o,w as l,F as U,u as E,e as N,f as S,g as h,h as M,m as P,n as w}from"./index-e3115a85.js";import{_ as V,a as F}from"./_plugin-vue_export-helper-12449478.js";const L=k({setup(){const a=E();N();const e=S({email:"",password:"",remember:!0}),b=async s=>{console.log("Success:",s)},c=s=>{console.log("Failed:",s)};async function y(){await F.post("http://127.0.0.1:8000/api/login",{email:e.email,password:e.password}).then(s=>{var m;const i=(m=s==null?void 0:s.data)!=null&&m.hasOwnProperty("status")?{...s==null?void 0:s.data}:[];if(i.status){a.push({name:"dashboard"});return}w.open({message:"Erro",description:i.message,onClick:()=>{console.log("Notification Clicked!")}})}).catch(s=>{w.open({message:"Erro",description:s.response.data.message,onClick:()=>{console.log("Notification Clicked!")}})}).finally(()=>{})}const p=h(!1),r=h(!1),n=()=>{p.value=!0},v=async()=>{r.value=!0;const s={name:`${d.name}`,cpf:`${d.cpf}`,type:`${d.type}`,phone:`${d.phone}`,email:`${d.email}`,password:`${d.password}`};await F.post("http://127.0.0.1:8000/api/register",{...s}).then(i=>{var m;(m=i==null?void 0:i.data)!=null&&m.hasOwnProperty("id")&&{...i==null?void 0:i.data},a.push({name:"dashboard"}),p.value=!1}).catch(i=>{w.open({message:"Erro",description:i.response.data.message,onClick:()=>{console.log("Notification Clicked!")}})}).finally(()=>{e.name,e.cpf,e.type,e.phone,e.email,e.password,r.value=!1})},g={labelCol:{span:8},wrapperCol:{span:16}},f={required:"${label} is required!"},d=S({name:"",cpf:"",type:"",phone:"",email:"",password:""});return{formState:e,onFinish:b,onFinishFailed:c,login:y,visible:p,confirmLoading:r,showModal:n,salvarCadastro:v,formStateCadastro:d,onFinishCadastro:s=>{},layout:g,validateMessages:f}}}),O={class:"login"};function B(a,e,b,c,y,p){const r=u("a-input"),n=u("a-form-item"),v=u("a-input-password"),g=u("a-button"),f=u("a-form"),d=u("a-modal");return $(),q(U,null,[C("div",O,[o(f,{model:a.formState,name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",onFinish:a.login,onFinishFailed:a.onFinishFailed},{default:l(()=>[o(n,{label:"Email",name:"email",rules:[{required:!0,message:"Por favor digite seu email"}]},{default:l(()=>[o(r,{value:a.formState.email,"onUpdate:value":e[0]||(e[0]=t=>a.formState.email=t)},null,8,["value"])]),_:1}),o(n,{label:"Senha",name:"password",rules:[{required:!0,message:"Por favor digite sua senha"}]},{default:l(()=>[o(v,{value:a.formState.password,"onUpdate:value":e[1]||(e[1]=t=>a.formState.password=t)},null,8,["value"])]),_:1}),o(n,{"wrapper-col":{offset:8,span:16}},{default:l(()=>[o(g,{type:"primary","html-type":"submit"},{default:l(()=>[M("Entrar")]),_:1})]),_:1}),o(n,{name:"remember","wrapper-col":{offset:8,span:16}},{default:l(()=>[C("span",{style:{color:"darkcyan",cursor:"pointer"},onClick:e[2]||(e[2]=(...t)=>a.showModal&&a.showModal(...t))},"Cadastrar-se")]),_:1})]),_:1},8,["model","onFinish","onFinishFailed"])]),C("div",null,[o(d,{visible:a.visible,"onUpdate:visible":e[9]||(e[9]=t=>a.visible=t),title:"Cadastrar-se","confirm-loading":a.confirmLoading,onOk:a.salvarCadastro},{default:l(()=>[o(f,P({model:a.formStateCadastro},a.layout,{name:"nest-messages","validate-messages":a.validateMessages,onFinish:a.onFinishCadastro}),{default:l(()=>[o(n,{name:["name"],label:"Nome",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.name,"onUpdate:value":e[3]||(e[3]=t=>a.formStateCadastro.name=t)},null,8,["value"])]),_:1}),o(n,{name:["cpf"],label:"Cpf",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.cpf,"onUpdate:value":e[4]||(e[4]=t=>a.formStateCadastro.cpf=t)},null,8,["value"])]),_:1}),o(n,{name:["type"],label:"Tipo",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.type,"onUpdate:value":e[5]||(e[5]=t=>a.formStateCadastro.type=t)},null,8,["value"])]),_:1}),o(n,{name:["phone"],label:"Telefone",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.phone,"onUpdate:value":e[6]||(e[6]=t=>a.formStateCadastro.phone=t)},null,8,["value"])]),_:1}),o(n,{name:["email"],label:"Email",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.email,"onUpdate:value":e[7]||(e[7]=t=>a.formStateCadastro.email=t)},null,8,["value"])]),_:1}),o(n,{name:["password"],label:"Senha",rules:[{required:!0}]},{default:l(()=>[o(r,{value:a.formStateCadastro.password,"onUpdate:value":e[8]||(e[8]=t=>a.formStateCadastro.password=t)},null,8,["value"])]),_:1})]),_:1},16,["model","validate-messages","onFinish"])]),_:1},8,["visible","confirm-loading","onOk"])])],64)}const R=V(L,[["render",B]]);export{R as default};
